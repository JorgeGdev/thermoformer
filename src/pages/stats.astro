---
// src/pages/stats.astro
import Layout from "../layouts/DashboardLayout.astro";
import StatsBoard from "../react/StatsBoard";
import type { ThermoProp } from "../react/StatsBoard";
import WarpBackground from "../react/WarpBackground.tsx";

const url = new URL(Astro.request.url);
const raw = (url.searchParams.get("thermo") ?? "all").toLowerCase();

// Convierte el query param al union que espera StatsBoard
const thermo: ThermoProp =
  raw === "1" ? 1 :
  raw === "2" ? 2 :
  "all";
---

<Layout title="Statistics">
  <!-- Shader Background -->
  <WarpBackground client:load style={{ background: 'linear-gradient(135deg, #65BB45, #4A9B35, #65BB45)' }} />
    <StatsBoard client:load thermoformer={thermo} />
</Layout>
